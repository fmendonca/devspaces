schemaVersion: 2.2.0
metadata:
  name: devspaces-azure-cli
components:
  - name: ubi-minimal
    container:
      args:
        - '-f'
        - /dev/null
      command:
        - tail
      image: registry.access.redhat.com/ubi8/ubi-minimal
      memoryLimit: 64M
      mountSources: true
      sourceMapping: /projects
  - name: azure-cli
    container:
      command:
        - /bin/bash
      image: quay.io/fcalomen/bastion:azure-cli-0.1
      memoryLimit: 512Mi
      mountSources: true
      volumeMounts:
        - name: azure-cli-vol
          path: /opt/bastion/azure-cli
  - name: azure-cli-vol
    volume:
      size: 1G
